<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/filter.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/filter.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module jsdoc/src/filter
 */
'use strict';

var env = require('jsdoc/env');
var path = require('jsdoc/path');

function makeRegExp(config) {
    var regExp = null;

    if (config) {
        regExp = (typeof config === 'string') ? new RegExp(config) : config;
    }

    return regExp;
}

/**
 * @constructor
 * @param {Object} opts
 * @param {string[]} opts.exclude - Specific files to exclude.
 * @param {(string|RegExp)} opts.includePattern
 * @param {(string|RegExp)} opts.excludePattern
 */
exports.Filter = function(opts) {
    this.exclude = opts.exclude &amp;&amp; Array.isArray(opts.exclude) ?
        opts.exclude.map(function($) {
            return path.resolve(env.pwd, $);
        }) :
        null;
    this.includePattern = makeRegExp(opts.includePattern);
    this.excludePattern = makeRegExp(opts.excludePattern);
};

/**
 * @param {string} filepath - The filepath to check.
 * @returns {boolean} Should the given file be included?
 */
exports.Filter.prototype.isIncluded = function(filepath) {
    var included = true;

    filepath = path.resolve(env.pwd, filepath);

    if ( this.includePattern &amp;&amp; !this.includePattern.test(filepath) ) {
        included = false;
    }

    if ( this.excludePattern &amp;&amp; this.excludePattern.test(filepath) ) {
        included = false;
    }

    if (this.exclude) {
        this.exclude.forEach(function(exclude) {
            if ( filepath.indexOf(exclude) === 0 ) {
                included = false;
            }
        });
    }

    return included;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-jsdoc_opts_argparser.html">jsdoc/opts/argparser</a></li><li><a href="module-jsdoc_opts_args.html">jsdoc/opts/args</a></li><li><a href="module-jsdoc_src_astnode.html">jsdoc/src/astnode</a></li><li><a href="module-jsdoc_src_filter.html">jsdoc/src/filter</a></li><li><a href="module-jsdoc_src_handlers.html">jsdoc/src/handlers</a></li><li><a href="module-jsdoc_src_parser.html">jsdoc/src/parser</a></li><li><a href="module-jsdoc_src_scanner.html">jsdoc/src/scanner</a></li><li><a href="module-jsdoc_src_visitor.html">jsdoc/src/visitor</a></li><li><a href="module-jsdoc_src_walker.html">jsdoc/src/walker</a></li><li><a href="module-jsdoc_tag_dictionary.html">jsdoc/tag/dictionary</a></li><li><a href="module-jsdoc_tag_dictionary_definitions.html">jsdoc/tag/dictionary/definitions</a></li><li><a href="module-jsdoc_tag_inline.html">jsdoc/tag/inline</a></li><li><a href="module-jsdoc_tag_type.html">jsdoc/tag/type</a></li><li><a href="module-jsdoc_tag_validator.html">jsdoc/tag/validator</a></li><li><a href="module-jsdoc_tutorial_resolver.html">jsdoc/tutorial/resolver</a></li><li><a href="module-jsdoc_util_dumper.html">jsdoc/util/dumper</a></li><li><a href="module-jsdoc_util_error.html">jsdoc/util/error</a></li><li><a href="module-jsdoc_util_logger.html">jsdoc/util/logger</a></li><li><a href="module-jsdoc_util_markdown.html">jsdoc/util/markdown</a></li><li><a href="module-jsdoc_util_templateHelper.html">jsdoc/util/templateHelper</a></li></ul><h3>Classes</h3><ul><li><a href="module-jsdoc_opts_argparser.html">jsdoc/opts/argparser</a></li><li><a href="module-jsdoc_src_filter.Filter.html">Filter</a></li><li><a href="module-jsdoc_src_parser.Parser.html">Parser</a></li><li><a href="module-jsdoc_src_scanner.Scanner.html">Scanner</a></li><li><a href="module-jsdoc_tag_dictionary.Dictionary.html">Dictionary</a></li></ul><h3>Events</h3><ul><li><a href="module-jsdoc_src_parser.Parser.html#.event:jsdocCommentFound">jsdocCommentFound</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.0-dev</a> on Fri Sep 14 2018 15:06:08 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
